likelihood:
  # Required parameters
  latent_dim: 10           # Dimension of latent space z^(0)
  n_genes: 2000            # Number of genes (same across all batches)
  n_batches: 5             # Number of batches
  
  # Optional parameters (with defaults)
  hidden_dim: 128          # Hidden layer dimension for decoder networks
  n_layers: 2              # Number of hidden layers in decoder networks
  dispersion_mode: 'gene'  # Dispersion granularity (only 'gene' supported)
  use_library_size: true   # Whether to include library size in mean
  eps: 1.0e-8              # Numerical stability constant



prior:
  # Required parameters
  latent_dim: 10                # Dimension of latent space z^(0)
  n_cell_types: 8               # Number of cell types
  n_batches: 5                  # Number of batches
  supervised: true              # true: cell-type-specific priors, false: shared prior
  
  # Optional parameters (with defaults)
  cell_type_prior_probs: null   # Prior probabilities π_0 for cell types (null = uniform)
                                # Example: [0.2, 0.15, 0.15, 0.1, 0.1, 0.1, 0.1, 0.1]
  
  batch_prior_probs: null       # Prior probabilities ρ for batches (null = uniform)
                                # Example: [0.25, 0.2, 0.2, 0.2, 0.15]

# -----------------------------------------------------------------------------
# Likelihood Module Configuration  
# -----------------------------------------------------------------------------
likelihood:
  # Required parameters
  latent_dim: 10                # Dimension of latent space z^(0)
  n_genes: 2000                 # Number of genes (same across all batches)
  n_batches: 5                  # Number of batches
  
  # Optional parameters (with defaults)
  hidden_dim: 128               # Hidden layer dimension for decoder networks
  n_layers: 2                   # Number of hidden layers in decoder networks
  dispersion_mode: 'gene'       # Dispersion granularity (only 'gene' supported)
  use_library_size: true        # Whether to include library size in mean
  eps: 1.0e-8                   # Numerical stability constant



  # =============================================================================
# DDPM Forward Process Configuration
# =============================================================================

ddpm_forward:
  # Required parameters
  latent_dim: 10                    # Dimension of latent space z^(0)
  n_diffusion_steps: 1000           # Number of diffusion timesteps T
  
  # Optional parameters (with defaults)
  beta_schedule: 'linear'           # Variance schedule type: 'linear', 'cosine', 'quadratic'
  beta_min: 1.0e-4                  # Minimum β_t value
  beta_max: 2.0e-2                  # Maximum β_t value



ddpm_backward:
    # Required parameters
    latent_dim: 10                  # Dimension of latent space z^(0)
    n_diffusion_steps: 1000         # Number of diffusion timesteps T
    n_cell_types: 8                 # Number of cell types C
    
    # Optional parameters (with defaults)
    variance_type: 'fixed'          # Variance strategy: 'fixed' or 'learned'
    noise_hidden_dim: 128           # Hidden dimension for noise prediction network
    noise_n_layers: 2               # Number of layers in noise prediction network
    timestep_embed_dim: 64          # Dimension of timestep embedding
    celltype_embed_dim: 32          # Dimension of cell type embedding
    dropout: 0.1                    # Dropout rate for noise prediction network



encoder:
  # Required parameters
  n_genes: 2000           # Number of input genes
  n_batches: 5            # Number of batches
  n_cell_types: 8         # Number of cell types
  latent_dim: 10          # Dimension of latent space z^(0)
  
  # Optional parameters (with defaults)
  hidden_dims: [256, 128] # Hidden layer dimensions (default: [256, 128])
  dropout: 0.1            # Dropout rate (default: 0.1)
  use_batch_norm: true    # Use batch normalization (default: true)
  use_layer_norm: false   # Use layer normalization (default: false)
  input_transform: 'log1p' # Input transformation: 'log1p' or 'none' (default: 'log1p')
  eps: 1.0e-8             # Numerical stability constant (default: 1e-8)